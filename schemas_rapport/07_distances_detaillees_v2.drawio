<mxfile host="65bd71144e">
    <diagram id="Distances" name="Distances DÃ©taillÃ©es">
        <mxGraphModel dx="1605" dy="1165" grid="0" gridSize="10" guides="1" tooltips="0" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1800" pageHeight="2000" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="2" value="SCHÃ‰MA 1: TOUTES LES DISTANCES DE LA TRAJECTOIRE" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=22;fontStyle=1;fontColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="325" y="437" width="1200" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="10" value="Start" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=14;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="180" y="310" width="90" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="11" value="End&#xa;Initial" style="ellipse;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=12;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="530" y="220" width="85" height="75" as="geometry"/>
                </mxCell>
                <mxCell id="12" value="WP&#xa;Entry" style="ellipse;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=12;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="880" y="165" width="85" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="13" value="WP&#xa;Exit" style="ellipse;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=12;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="1300" y="165" width="85" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="14" value="FAF" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=14;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="1650" y="140" width="90" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="15" value="" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;opacity=60;" parent="1" vertex="1">
                    <mxGeometry x="980" y="110" width="180" height="180" as="geometry"/>
                </mxCell>
                <mxCell id="16" value="Obstacle&#xa;R = 2.0 km" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="1020" y="185" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="17" value="" style="curved=1;endArrow=classic;html=1;strokeWidth=5;strokeColor=#0066CC;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="270" y="345" as="sourcePoint"/>
                        <mxPoint x="1650" y="175" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="400" y="330"/>
                            <mxPoint x="530" y="310"/>
                            <mxPoint x="680" y="275"/>
                            <mxPoint x="820" y="230"/>
                            <mxPoint x="930" y="180"/>
                            <mxPoint x="1020" y="120"/>
                            <mxPoint x="1120" y="90"/>
                            <mxPoint x="1220" y="95"/>
                            <mxPoint x="1340" y="120"/>
                            <mxPoint x="1480" y="150"/>
                            <mxPoint x="1580" y="165"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="20" value="" style="endArrow=classic;startArrow=classic;html=1;strokeWidth=3;strokeColor=#0066CC;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="225" y="175" as="sourcePoint"/>
                        <mxPoint x="572" y="175" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="21" value="ðŸ“ DISTANCE 1: Vol initial&#xa;initial_flight_dist = clip(total_dist Ã— 0.20, 1.0, 5.0)&#xa;&#xa;ðŸ’¡ Exemple: Si total = 25 km&#xa;   â†’ 25 Ã— 0.20 = 5.0 km (max)" style="text;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=11;fontFamily=Consolas;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="295" y="70" width="240" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="22" value="" style="endArrow=classic;startArrow=classic;html=1;strokeWidth=3;strokeColor=#9c27b0;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="615" y="135" as="sourcePoint"/>
                        <mxPoint x="920" y="135" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="23" value="ðŸ“ DISTANCE 2: Approche&#xa;approach_distance = max(R Ã— 0.8, 1.0)&#xa;&#xa;ðŸ’¡ Si R = 2.0 km&#xa;   â†’ 2.0 Ã— 0.8 = 1.6 km" style="text;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=11;fontFamily=Consolas;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="637" y="27" width="210" height="75" as="geometry"/>
                </mxCell>
                <mxCell id="24" value="" style="endArrow=classic;startArrow=classic;html=1;strokeWidth=3;strokeColor=#CC6600;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="965" y="135" as="sourcePoint"/>
                        <mxPoint x="1342" y="135" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="25" value="ðŸ“ DISTANCE 3: Contournement&#xa;segment_distance = norm(WP_exit - WP_entry)&#xa;&#xa;ðŸ’¡ Distance latÃ©rale obstacle" style="text;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=11;fontFamily=Consolas;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="1042" y="20" width="230" height="75" as="geometry"/>
                </mxCell>
                <mxCell id="26" value="" style="endArrow=classic;startArrow=classic;html=1;strokeWidth=3;strokeColor=#CC00CC;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="1385" y="175" as="sourcePoint"/>
                        <mxPoint x="1695" y="175" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="27" value="ðŸ“ DISTANCE 4: Sortie&#xa;exit_distance = max(R Ã— 0.8, 1.0)&#xa;&#xa;ðŸ’¡ Si R = 2.0 km&#xa;   â†’ 1.6 km (symÃ©trique)" style="text;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=11;fontFamily=Consolas;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="1440" y="65" width="200" height="75" as="geometry"/>
                </mxCell>
                <mxCell id="30" value="" style="endArrow=classic;startArrow=classic;html=1;strokeWidth=4;strokeColor=#CC0000;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="1070" y="200" as="sourcePoint"/>
                        <mxPoint x="900" y="160" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="31" value="ðŸ“ OFFSET LATÃ‰RAL&#xa;= (R - dist_perp) + 0.5&#xa;&#xa;ðŸ’¡ Si R=2.0, dist=0.8&#xa;   â†’ (2.0-0.8)+0.5 = 1.7 km" style="text;html=1;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=11;fontFamily=Consolas;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="800" y="320" width="220" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="32" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#b85450;dashed=1;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="1070" y="200" as="sourcePoint"/>
                        <mxPoint x="1160" y="200" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="33" value="R = 2.0 km" style="text;html=1;strokeColor=none;fillColor=#f8cecc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=10;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="1080" y="209" width="70" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="34" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#00CC00;dashed=1;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="1160" y="200" as="sourcePoint"/>
                        <mxPoint x="1250" y="200" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="35" value="Marge&#xa;0.5 km" style="text;html=1;strokeColor=none;fillColor=#d5e8d4;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=10;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="1170" y="209" width="65" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="40" value="ðŸ“Š RÃ‰CAPITULATIF DISTANCES TOTALES (Exemple avec obstacle R=2.0 km)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=13;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="180" y="550" width="1560" height="35" as="geometry"/>
                </mxCell>
                <mxCell id="41" value="1ï¸âƒ£ Vol initial (Start â†’ End_initial):          5.0 km     = clip(25 Ã— 0.20, 1.0, 5.0)&#xa;2ï¸âƒ£ Approche obstacle (End â†’ WP_entry):        1.6 km     = max(2.0 Ã— 0.8, 1.0)&#xa;3ï¸âƒ£ Contournement (WP_entry â†’ WP_exit):        ~3.4 km    = distance avec offset latÃ©ral 1.7 km&#xa;4ï¸âƒ£ Sortie vers FAF (WP_exit â†’ FAF):           1.6 km     = symÃ©trique Ã  l&#39;approche&#xa;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&#xa;ðŸ“ DISTANCE TOTALE TRAJECTOIRE:               ~11.6 km    (au lieu de ~10 km en ligne droite)&#xa;ðŸ“ DÃ‰VIATION ADDITIONNELLE:                   +1.6 km     (16% d&#39;augmentation)&#xa;&#xa;ðŸ’¡ PARAMÃˆTRES CLÃ‰S:&#xa;   â€¢ Rayon obstacle (R):              2.0 km&#xa;   â€¢ Marge sÃ©curitÃ©:                  0.5 km&#xa;   â€¢ Facteur approche:                0.8 (80%)&#xa;   â€¢ Distance approche min:           1.0 km&#xa;   â€¢ Offset latÃ©ral:                  1.7 km&#xa;   â€¢ Nombre points BÃ©zier/segment:    150 pts/km" style="text;html=1;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=11;fontFamily=Consolas;" parent="1" vertex="1">
                    <mxGeometry x="180" y="590" width="1560" height="210" as="geometry"/>
                </mxCell>
                <mxCell id="50" value="ðŸ“Š GESTION ALTITUDE (profil vertical simultanÃ©)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=13;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="180" y="900" width="1560" height="35" as="geometry"/>
                </mxCell>
                <mxCell id="51" value="PHASE 1: Vol en palier&#xa;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&#xa;Duration: level_flight_distance = total_dist - (min_descent_dist + transition_dist)&#xa;Altitude: constante = altitude_start&#xa;&#xa;PHASE 2: Transition progressive (super-smoothstep degrÃ© 7)&#xa;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&#xa;Duration: transition_distance = max(min(min_descent_dist Ã— 0.50, 12.0), 3.0)&#xa;Formula:  smooth_t = -20tâ· + 70tâ¶ - 84tâµ + 35tâ´&#xa;Altitude: altitude = start - smooth_t Ã— transition_drop&#xa;          transition_drop = transition_dist Ã— tan(max_descent_slope)&#xa;&#xa;PHASE 3: Descente linÃ©aire&#xa;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&#xa;Duration: descent_distance = min_descent_distance&#xa;Slope:    max_descent_slope (configurÃ© dans Aircraft, ex: 3Â°)&#xa;Altitude: altitude = start - transition_drop - descent_progress Ã— tan(slope)&#xa;&#xa;ðŸ“ EXEMPLE NUMÃ‰RIQUE (altitude 3.0 km â†’ 0.5 km, pente max 3Â°):&#xa;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&#xa;   â€¢ DiffÃ©rence altitude:         2.5 km&#xa;   â€¢ min_descent_distance:        2.5 / tan(3Â°) â‰ˆ 47.7 km&#xa;   â€¢ transition_distance:         min(47.7 Ã— 0.5, 12.0) = 12.0 km&#xa;   â€¢ total_descent_distance:      47.7 + 12.0 = 59.7 km&#xa;   â€¢ Si distance totale = 65 km:  level_flight = 65 - 59.7 = 5.3 km" style="text;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=10;fontFamily=Consolas;" parent="1" vertex="1">
                    <mxGeometry x="180" y="940" width="1560" height="310" as="geometry"/>
                </mxCell>
                <mxCell id="60" value="âš ï¸ NOTE IMPORTANTE: Toutes les distances horizontales sont calculÃ©es en 2D (x,y), l&#39;altitude est gÃ©rÃ©e indÃ©pendamment&#xa;pour maintenir le profil de descente optimal selon les contraintes de pente maximale de l&#39;avion." style="text;html=1;strokeColor=#666666;fillColor=#f5f5f5;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=2;fontFamily=Consolas;" parent="1" vertex="1">
                    <mxGeometry x="180" y="1350" width="1560" height="55" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>