<mxfile host="65bd71144e">
    <diagram id="AvoidanceStrategy" name="Ã‰vitement Obstacles">
        <mxGraphModel dx="285" dy="321" grid="0" gridSize="10" guides="1" tooltips="0" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1400" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="2" value="STRATÃ‰GIE D&#39;Ã‰VITEMENT D&#39;OBSTACLES PAR WAYPOINTS TANGENTS" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;fontColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="300" y="30" width="800" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="3" value="VUE GÃ‰NÃ‰RALE - Principe" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="50" y="100" width="600" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="4" value="Start" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="100" y="200" width="70" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="5" value="FAF" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="550" y="200" width="70" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="6" value="" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;opacity=70;" parent="1" vertex="1">
                    <mxGeometry x="300" y="175" width="100" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="7" value="Obstacle" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="320" y="215" width="60" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="8" value="" style="endArrow=none;html=1;strokeWidth=2;strokeColor=#CC0000;dashed=1;dashPattern=8 8;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="4" target="5" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="9" value="Trajet direct (COLLISION)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#CC0000;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="386" y="250" width="140" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="10" value="WP1" style="ellipse;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="230" y="150" width="50" height="35" as="geometry"/>
                </mxCell>
                <mxCell id="11" value="WP2" style="ellipse;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="420" y="150" width="50" height="35" as="geometry"/>
                </mxCell>
                <mxCell id="12" value="" style="curved=1;endArrow=classic;html=1;strokeWidth=3;strokeColor=#0066CC;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="4" target="5" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="200" y="210"/>
                            <mxPoint x="255" y="167"/>
                            <mxPoint x="350" y="140"/>
                            <mxPoint x="445" y="167"/>
                            <mxPoint x="500" y="210"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="13" value="Trajectoire d&#39;Ã©vitement" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#0066CC;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="374" y="130" width="130" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="14" value="R" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1;fontColor=#CC0000" parent="1" vertex="1">
                    <mxGeometry x="355" y="210" width="20" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="15" value="" style="endArrow=classic;html=1;strokeWidth=1;strokeColor=#CC0000;dashed=1;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="350" y="225" as="sourcePoint"/>
                        <mxPoint x="300" y="225" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="16" value="0.5 km" style="text;html=1;strokeColor=none;fillColor=#fff2cc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=8;fontStyle=1;fontColor=#000000" parent="1" vertex="1">
                    <mxGeometry x="250" y="137" width="40" height="15" as="geometry"/>
                </mxCell>
                <mxCell id="17" value="" style="endArrow=classic;startArrow=classic;html=1;strokeWidth=1;strokeColor=#9c27b0;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="255" y="155" as="sourcePoint"/>
                        <mxPoint x="255" y="200" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="18" value="80% Ã— R" style="text;html=1;strokeColor=none;fillColor=#e1d5e7;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=8;fontStyle=1;fontColor=#000000" parent="1" vertex="1">
                    <mxGeometry x="190" y="190" width="50" height="15" as="geometry"/>
                </mxCell>
                <mxCell id="19" value="" style="endArrow=classic;startArrow=classic;html=1;strokeWidth=1;strokeColor=#9c27b0;dashed=1;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="210" y="205" as="sourcePoint"/>
                        <mxPoint x="255" y="205" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="20" value="CALCULS GÃ‰OMÃ‰TRIQUES" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="50" y="320" width="600" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="21" value="Ã‰TAPE A: Projection" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="70" y="370" width="160" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="22" value="â€¢ Projeter centre obstacle&#xa;  sur trajectoire directe&#xa;â€¢ Calculer distance&#xa;  perpendiculaire&#xa;&#xa;proj_length = dot(vec, dir)&#xa;dist = norm(centre - proj)" style="text;html=1;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=9;fontFamily=Consolas;" parent="1" vertex="1">
                    <mxGeometry x="70" y="400" width="160" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="23" value="Ã‰TAPE B: VÃ©rification" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="260" y="370" width="160" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="24" value="â€¢ SI dist &lt; (rayon + 0.5 km)&#xa;  â†’ COLLISION dÃ©tectÃ©e&#xa;&#xa;â€¢ Marge sÃ©curitÃ© = 0.5 km&#xa;&#xa;â€¢ Calculer vecteur perp&#xa;  perp = [-dir_y, dir_x]" style="text;html=1;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=9;fontFamily=Consolas;" parent="1" vertex="1">
                    <mxGeometry x="260" y="400" width="160" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="25" value="Ã‰TAPE C: Waypoints" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="450" y="370" width="160" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="26" value="â€¢ approach_dist = &#xa;  max(rayon Ã— 0.8, 1.0 km)&#xa;&#xa;â€¢ WP_entry = proj - approach&#xa;â€¢ WP_exit = proj + approach&#xa;&#xa;â€¢ offset_lateral = &#xa;  (rayon - dist) + 0.5 km" style="text;html=1;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=9;fontFamily=Consolas;" parent="1" vertex="1">
                    <mxGeometry x="450" y="400" width="160" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="30" value="FORMULES CLÃ‰S" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=12;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="70" y="510" width="540" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="31" value="âš™ï¸ PARAMÃˆTRES SYSTÃˆME&#xa;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&#xa;safety_margin = 0.5 km                    (marge sÃ©curitÃ© latÃ©rale)&#xa;altitude_margin = 0.5 km                  (marge sÃ©curitÃ© verticale)&#xa;approach_factor = 0.8                     (80% du rayon pour distance approche)&#xa;min_approach = 1.0 km                     (distance approche minimale)&#xa;&#xa;ðŸ“ CALCULS GÃ‰OMÃ‰TRIQUES&#xa;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&#xa;vec_to_cylinder = Centre - Start&#xa;proj_length = dot(vec_to_cylinder, traj_direction)&#xa;P_projection = Start + proj_length Ã— traj_direction&#xa;distance_perpendiculaire = norm(Centre - P_projection)&#xa;&#xa;âš ï¸ DÃ‰TECTION COLLISION&#xa;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&#xa;cyl_radius_safe = cylinder.radius + safety_margin&#xa;IF distance_perpendiculaire &lt; cyl_radius_safe THEN collision dÃ©tectÃ©e&#xa;&#xa;ðŸ”„ CONTOURNEMENT&#xa;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&#xa;vecteur_perpendiculaire = [-traj_dir_y, traj_dir_x]&#xa;side = sign(cross_product)                // choix cÃ´tÃ© optimal&#xa;approach_distance = max(cyl_radius Ã— 0.8, 1.0)&#xa;offset_lateral = (rayon - distance_perp) + safety_margin&#xa;&#xa;ðŸ“ WAYPOINTS TANGENTS&#xa;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&#xa;entry_pos = proj_length - approach_distance&#xa;exit_pos = proj_length + approach_distance&#xa;WP_entry = entry_base + side Ã— perp Ã— offset_lateral&#xa;WP_exit = exit_base + side Ã— perp Ã— offset_lateral" style="text;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=8;fontFamily=Courier New;" parent="1" vertex="1">
                    <mxGeometry x="70" y="540" width="540" height="320" as="geometry"/>
                </mxCell>
                <mxCell id="40" value="PARAMÃˆTRES DÃ‰TAILLÃ‰S" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1bee7;strokeColor=#9c27b0;fontSize=12;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="700" y="100" width="300" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="41" value="ðŸ’¡ VALEURS NUMÃ‰RIQUES&#xa;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&#xa;Marge sÃ©curitÃ© latÃ©rale:    0.5 km (500m)&#xa;Marge sÃ©curitÃ© verticale:   0.5 km (500m)&#xa;&#xa;ðŸ“ CALCUL APPROCHE&#xa;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&#xa;Facteur d'approche:         80% du rayon&#xa;Distance approche min:      1.0 km&#xa;&#xa;Formule: approach_distance = max(R Ã— 0.8, 1.0)&#xa;&#xa;Exemple: Si R = 2 km â†’ 1.6 km&#xa;         Si R = 0.5 km â†’ 1.0 km (min)&#xa;&#xa;ðŸŽ¯ LISSAGE TRAJECTOIRE&#xa;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&#xa;Points BÃ©zier:              150 pts/km&#xa;ContinuitÃ©:                 CÂ² (courbure)&#xa;Validation finale:          clearance minimale" style="text;html=1;strokeColor=#9c27b0;fillColor=#e1bee7;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=9;fontFamily=Consolas;" parent="1" vertex="1">
                    <mxGeometry x="700" y="130" width="300" height="230" as="geometry"/>
                </mxCell>
                <mxCell id="50" value="AVANTAGES DE LA MÃ‰THODE" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#4caf50;fontSize=12;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="1030" y="100" width="320" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="51" value="âœ“ Minimise dÃ©viation trajectoire&#xa;âœ“ Garantit clearance sÃ©curitÃ© (500m)&#xa;âœ“ ContinuitÃ© CÂ² avec courbes BÃ©zier&#xa;âœ“ Adaptable Ã  obstacles multiples&#xa;âœ“ Validation collision check finale&#xa;&#xa;ðŸ“Š EFFICACITÃ‰ CONTOURNEMENT&#xa;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&#xa;â€¢ Distance approche rÃ©duite Ã  80% du rayon&#xa;  â†’ Trajectoire plus courte&#xa;&#xa;â€¢ Approche tangente au pÃ©rimÃ¨tre&#xa;  â†’ DÃ©viation minimale&#xa;&#xa;â€¢ Offset calculÃ© dynamiquement&#xa;  â†’ Adaptation au contexte&#xa;&#xa;ðŸ›¡ï¸ SÃ‰CURITÃ‰&#xa;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&#xa;â€¢ Marge systÃ©matique: 500m (latÃ©ral + vertical)&#xa;â€¢ Distance min garantie: 1.0 km avant obstacle&#xa;â€¢ Validation gÃ©omÃ©trique post-calcul" style="text;html=1;strokeColor=#4caf50;fillColor=#c8e6c9;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=9;fontFamily=Consolas;" parent="1" vertex="1">
                    <mxGeometry x="1030" y="130" width="320" height="230" as="geometry"/>
                </mxCell>
                <mxCell id="60" value="EXEMPLE NUMÃ‰RIQUE DÃ‰TAILLÃ‰" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="700" y="390" width="650" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="61" value="ðŸ”¢ CAS PRATIQUE: Obstacle avec rayon R = 2.0 km&#xa;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&#xa;&#xa;ðŸ“ DONNÃ‰ES INITIALES&#xa;  â€¢ Rayon obstacle (R):              2.0 km&#xa;  â€¢ Distance perpendiculaire:        0.8 km (trajectoire traverse l'obstacle)&#xa;  â€¢ Marge sÃ©curitÃ©:                  0.5 km&#xa;&#xa;âš™ï¸ CALCULS INTERMÃ‰DIAIRES&#xa;  â€¢ Rayon sÃ©curisÃ©:                  2.0 + 0.5 = 2.5 km&#xa;  â€¢ Condition collision:             0.8 &lt; 2.5 km â†’ OUI, collision dÃ©tectÃ©e!&#xa;  â€¢ Distance approche:               max(2.0 Ã— 0.8, 1.0) = max(1.6, 1.0) = 1.6 km&#xa;  â€¢ Offset latÃ©ral:                  (2.0 - 0.8) + 0.5 = 1.7 km&#xa;&#xa;ðŸ“ POSITIONNEMENT WAYPOINTS&#xa;  â€¢ WP_entry:   proj_length - 1.6 km  (dÃ©calÃ© de 1.7 km perpendiculairement)&#xa;  â€¢ WP_exit:    proj_length + 1.6 km  (dÃ©calÃ© de 1.7 km perpendiculairement)&#xa;  â€¢ Distance totale contournement:    ~5.4 km au lieu de trajet direct&#xa;  â€¢ Clearance garantie:               2.5 km minimum du centre obstacle&#xa;&#xa;âœ… RÃ‰SULTAT: Ã‰vitement optimal avec dÃ©viation minimale et sÃ©curitÃ© maximale!" style="text;html=1;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=9;fontFamily=Consolas;" parent="1" vertex="1">
                    <mxGeometry x="700" y="420" width="650" height="230" as="geometry"/>
                </mxCell>
                <mxCell id="70" value="ðŸ“ NOTE TECHNIQUE: Les waypoints sont calculÃ©s pour longer tangentiellement le pÃ©rimÃ¨tre de l'obstacle&#xa;avec une distance d'approche optimisÃ©e (80% du rayon, minimum 1 km) et une marge de sÃ©curitÃ© constante de 500m,&#xa;minimisant ainsi la dÃ©viation de trajectoire tout en garantissant un niveau de sÃ©curitÃ© optimal." style="text;html=1;strokeColor=#666666;fillColor=#f5f5f5;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=9;fontStyle=2;fontFamily=Consolas;" parent="1" vertex="1">
                    <mxGeometry x="700" y="680" width="650" height="50" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>
