<mxfile host="65bd71144e">
    <diagram id="BezierCurves" name="Courbes de BÃ©zier">
        <mxGraphModel dx="285" dy="321" grid="0" gridSize="10" guides="1" tooltips="0" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1600" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="2" value="SCHÃ‰MA 2: CALCUL DES COURBES DE BÃ‰ZIER CUBIQUES" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;fontColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="200" y="30" width="1000" height="40" as="geometry"/>
                </mxCell>
                
                <!-- Principe BÃ©zier cubique -->
                <mxCell id="10" value="PRINCIPE DE LA COURBE DE BÃ‰ZIER CUBIQUE" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=13;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="100" y="100" width="600" height="30" as="geometry"/>
                </mxCell>
                
                <!-- Points de contrÃ´le -->
                <mxCell id="11" value="P0" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=11;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="150" y="220" width="50" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="12" value="P1" style="ellipse;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="280" y="160" width="50" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="13" value="P2" style="ellipse;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="470" y="160" width="50" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="14" value="P3" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="600" y="220" width="50" height="40" as="geometry"/>
                </mxCell>
                
                <!-- Lignes de contrÃ´le -->
                <mxCell id="15" value="" style="endArrow=none;html=1;strokeWidth=1;strokeColor=#999999;dashed=1;dashPattern=4 4;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="175" y="240" as="sourcePoint"/>
                        <mxPoint x="305" y="180" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="16" value="" style="endArrow=none;html=1;strokeWidth=1;strokeColor=#999999;dashed=1;dashPattern=4 4;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="330" y="180" as="sourcePoint"/>
                        <mxPoint x="495" y="180" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="17" value="" style="endArrow=none;html=1;strokeWidth=1;strokeColor=#999999;dashed=1;dashPattern=4 4;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="520" y="180" as="sourcePoint"/>
                        <mxPoint x="625" y="240" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                
                <!-- Courbe BÃ©zier -->
                <mxCell id="18" value="" style="curved=1;endArrow=classic;html=1;strokeWidth=3;strokeColor=#0066CC;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="175" y="240" as="sourcePoint"/>
                        <mxPoint x="625" y="240" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="250" y="210"/>
                            <mxPoint x="305" y="185"/>
                            <mxPoint x="400" y="175"/>
                            <mxPoint x="495" y="185"/>
                            <mxPoint x="550" y="210"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="19" value="Courbe B(t)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#0066CC;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="360" y="150" width="80" height="20" as="geometry"/>
                </mxCell>
                
                <!-- LÃ©gendes points -->
                <mxCell id="20" value="Waypoint dÃ©part" style="text;html=1;strokeColor=none;fillColor=#dae8fc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=8;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="140" y="265" width="70" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="21" value="Point contrÃ´le 1&#xa;(tangente dÃ©part)" style="text;html=1;strokeColor=none;fillColor=#e1d5e7;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=8;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="260" y="130" width="90" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="22" value="Point contrÃ´le 2&#xa;(tangente arrivÃ©e)" style="text;html=1;strokeColor=none;fillColor=#e1d5e7;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=8;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="450" y="130" width="90" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="23" value="Waypoint arrivÃ©e" style="text;html=1;strokeColor=none;fillColor=#fff2cc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=8;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="590" y="265" width="70" height="20" as="geometry"/>
                </mxCell>
                
                <!-- Distance contrÃ´le -->
                <mxCell id="24" value="" style="endArrow=classic;startArrow=classic;html=1;strokeWidth=1;strokeColor=#9c27b0;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="200" y="240" as="sourcePoint"/>
                        <mxPoint x="305" y="180" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="25" value="35% Ã— segment_dist" style="text;html=1;strokeColor=none;fillColor=#e1d5e7;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=8;fontStyle=1;fontFamily=Consolas;" parent="1" vertex="1">
                    <mxGeometry x="210" y="200" width="100" height="18" as="geometry"/>
                </mxCell>
                
                <!-- Formule mathÃ©matique -->
                <mxCell id="30" value="ðŸ“ FORMULE MATHÃ‰MATIQUE DE BÃ‰ZIER CUBIQUE" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="100" y="310" width="600" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="31" value="Pour t âˆˆ [0, 1], la position sur la courbe est donnÃ©e par:&#xa;&#xa;B(t) = (1-t)Â³ Ã— P0 + 3(1-t)Â² Ã— t Ã— P1 + 3(1-t) Ã— tÂ² Ã— P2 + tÂ³ Ã— P3&#xa;&#xa;OÃ¹:&#xa;  â€¢ t = 0           â†’ Position = P0 (dÃ©part)&#xa;  â€¢ t = 0.5         â†’ Position au milieu de la courbe&#xa;  â€¢ t = 1           â†’ Position = P3 (arrivÃ©e)&#xa;  â€¢ P0, P1, P2, P3  â†’ Points de contrÃ´le en 2D (x, y)&#xa;&#xa;PropriÃ©tÃ©s importantes:&#xa;  âœ“ La courbe passe exactement par P0 et P3&#xa;  âœ“ La tangente en P0 est dirigÃ©e vers P1&#xa;  âœ“ La tangente en P3 vient de P2&#xa;  âœ“ La courbe reste dans l'enveloppe convexe des 4 points&#xa;  âœ“ ContinuitÃ© CÂ² (position, tangente et courbure continues)" style="text;html=1;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=9;fontFamily=Consolas;" parent="1" vertex="1">
                    <mxGeometry x="100" y="340" width="600" height="170" as="geometry"/>
                </mxCell>
                
                <!-- Calcul des points de contrÃ´le -->
                <mxCell id="40" value="ðŸ”§ CALCUL DES POINTS DE CONTRÃ”LE DANS LE CODE" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=12;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="100" y="540" width="600" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="41" value="Ã‰TAPE 1: DÃ©finir les waypoints de dÃ©part et d'arrivÃ©e&#xa;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&#xa;P0_seg = wp_start          // Waypoint de dÃ©part du segment&#xa;P3_seg = wp_end            // Waypoint d'arrivÃ©e du segment&#xa;segment_distance = norm(P3_seg - P0_seg)&#xa;&#xa;Ã‰TAPE 2: Calculer le point de contrÃ´le P1 (tangente au dÃ©part)&#xa;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&#xa;SI premier segment (aprÃ¨s vol initial):&#xa;    direction = current_direction   // Direction de l'avion au dÃ©part&#xa;    P1_seg = P0_seg + direction Ã— (segment_distance Ã— 0.35)&#xa;SINON:&#xa;    prev_dir = (wp_start - waypoint_precedent)&#xa;    prev_dir = prev_dir / norm(prev_dir)  // Normaliser&#xa;    P1_seg = P0_seg + prev_dir Ã— (segment_distance Ã— 0.35)&#xa;&#xa;Ã‰TAPE 3: Calculer le point de contrÃ´le P2 (tangente Ã  l'arrivÃ©e)&#xa;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&#xa;SI dernier segment (vers FAF):&#xa;    runway_dir = direction_piste    // Direction vers l'aÃ©roport&#xa;    P2_seg = P3_seg - runway_dir Ã— (segment_distance Ã— 0.35)&#xa;SINON:&#xa;    next_dir = (waypoint_suivant - wp_end)&#xa;    next_dir = next_dir / norm(next_dir)  // Normaliser&#xa;    P2_seg = P3_seg - next_dir Ã— (segment_distance Ã— 0.35)&#xa;&#xa;Ã‰TAPE 4: GÃ©nÃ©rer les points sur la courbe&#xa;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&#xa;n_segment = max(100, int(segment_distance Ã— 150))  // 150 points par km&#xa;&#xa;POUR i de 0 Ã  n_segment-1:&#xa;    t_local = i / (n_segment - 1)&#xa;    &#xa;    pos_2d = (1-t_local)Â³ Ã— P0_seg +&#xa;             3 Ã— (1-t_local)Â² Ã— t_local Ã— P1_seg +&#xa;             3 Ã— (1-t_local) Ã— t_localÂ² Ã— P2_seg +&#xa;             t_localÂ³ Ã— P3_seg&#xa;    &#xa;    // pos_2d contient maintenant (x, y) du point i sur la courbe" style="text;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=8;fontFamily=Consolas;" parent="1" vertex="1">
                    <mxGeometry x="100" y="570" width="600" height="380" as="geometry"/>
                </mxCell>
                
                <!-- Exemple numÃ©rique -->
                <mxCell id="50" value="ðŸ’¡ EXEMPLE NUMÃ‰RIQUE COMPLET" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="750" y="100" width="600" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="51" value="DONNÃ‰ES D'ENTRÃ‰E:&#xa;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&#xa;â€¢ wp_start = (5.0, 8.0)           [km]  // End initial flight&#xa;â€¢ wp_end = (12.0, 10.0)          [km]  // WP entry obstacle&#xa;â€¢ current_direction = (0.866, 0.5)     // Direction avion (heading 30Â°)&#xa;â€¢ segment_distance = 7.28 km&#xa;&#xa;CALCUL DES POINTS DE CONTRÃ”LE:&#xa;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&#xa;P0 = (5.0, 8.0)&#xa;P3 = (12.0, 10.0)&#xa;&#xa;control_distance = 7.28 Ã— 0.35 = 2.548 km&#xa;&#xa;P1 = P0 + current_direction Ã— control_distance&#xa;   = (5.0, 8.0) + (0.866, 0.5) Ã— 2.548&#xa;   = (5.0 + 2.206, 8.0 + 1.274)&#xa;   = (7.206, 9.274)&#xa;&#xa;seg_dir = (P3 - P0) / norm(P3 - P0)&#xa;        = (7.0, 2.0) / 7.28&#xa;        = (0.962, 0.275)&#xa;&#xa;P2 = P3 - seg_dir Ã— control_distance&#xa;   = (12.0, 10.0) - (0.962, 0.275) Ã— 2.548&#xa;   = (12.0 - 2.451, 10.0 - 0.701)&#xa;   = (9.549, 9.299)&#xa;&#xa;GÃ‰NÃ‰RATION DES POINTS (exemple avec n=1092 points, soit 150 pts/km):&#xa;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&#xa;Pour t = 0.0:     B(0.0) = (5.000, 8.000)     âœ“ Point de dÃ©part&#xa;Pour t = 0.25:    B(0.25) â‰ˆ (6.691, 8.862)&#xa;Pour t = 0.5:     B(0.5) â‰ˆ (8.441, 9.393)     Point milieu de la courbe&#xa;Pour t = 0.75:    B(0.75) â‰ˆ (10.309, 9.701)&#xa;Pour t = 1.0:     B(1.0) = (12.000, 10.000)   âœ“ Point d'arrivÃ©e&#xa;&#xa;DENSITÃ‰ DE POINTS:&#xa;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&#xa;â€¢ Total points ce segment: 1092 points&#xa;â€¢ Distance entre points: 7.28 / 1092 â‰ˆ 6.67 mÃ¨tres&#xa;â€¢ Garantit un tracÃ© extrÃªmement lisse et prÃ©cis&#xa;&#xa;âœ… RÃ‰SULTAT: Courbe parfaitement lisse reliant les waypoints avec continuitÃ© CÂ²" style="text;html=1;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=8;fontFamily=Consolas;" parent="1" vertex="1">
                    <mxGeometry x="750" y="130" width="600" height="450" as="geometry"/>
                </mxCell>
                
                <!-- Multiple segments -->
                <mxCell id="60" value="ðŸ”— CONTINUITÃ‰ ENTRE SEGMENTS MULTIPLES" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="750" y="610" width="600" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="61" value="Lorsqu'il y a plusieurs waypoints d'Ã©vitement (obstacles multiples), plusieurs courbes&#xa;de BÃ©zier sont gÃ©nÃ©rÃ©es consÃ©cutivement:&#xa;&#xa;SEGMENT 1: End_initial â†’ WP_entry_1&#xa;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&#xa;P0 = End_initial&#xa;P1 = P0 + current_direction Ã— (dist1 Ã— 0.35)&#xa;P2 = P3 - direction_vers_WPentry1 Ã— (dist1 Ã— 0.35)&#xa;P3 = WP_entry_1&#xa;&#xa;SEGMENT 2: WP_entry_1 â†’ WP_exit_1&#xa;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&#xa;P0 = WP_entry_1&#xa;P1 = P0 + direction_segment1 Ã— (dist2 Ã— 0.35)     // ContinuitÃ© tangente!&#xa;P2 = P3 - direction_vers_WPexit1 Ã— (dist2 Ã— 0.35)&#xa;P3 = WP_exit_1&#xa;&#xa;SEGMENT 3: WP_exit_1 â†’ FAF&#xa;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&#xa;P0 = WP_exit_1&#xa;P1 = P0 + direction_segment2 Ã— (dist3 Ã— 0.35)     // ContinuitÃ© tangente!&#xa;P2 = P3 - runway_direction Ã— (dist3 Ã— 0.35)&#xa;P3 = FAF&#xa;&#xa;ðŸŽ¯ GARANTIE DE CONTINUITÃ‰:&#xa;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&#xa;Le point de contrÃ´le P1 d'un segment utilise la direction du segment prÃ©cÃ©dent,&#xa;assurant que la tangente Ã  la jonction soit identique de chaque cÃ´tÃ©.&#xa;â†’ Pas de cassure, trajectoire parfaitement fluide pour l'avion!" style="text;html=1;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=8;fontFamily=Consolas;" parent="1" vertex="1">
                    <mxGeometry x="750" y="640" width="600" height="310" as="geometry"/>
                </mxCell>
                
                <!-- Note finale -->
                <mxCell id="70" value="ðŸ’¡ AVANTAGE CLÃ‰S: Les courbes de BÃ©zier cubiques permettent une trajectoire extrÃªmement fluide avec continuitÃ©&#xa;de position (Câ°), tangente (CÂ¹) et courbure (CÂ²), essentiel pour un vol confortable et des manÅ“uvres rÃ©alistes." style="text;html=1;strokeColor=#666666;fillColor=#f5f5f5;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=9;fontStyle=2;fontFamily=Consolas;" parent="1" vertex="1">
                    <mxGeometry x="100" y="980" width="1250" height="40" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>
